<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Technical information about how NumberQ works: methods for generators, templates, random search, and answer verification."
    />
    <title>NumberQ Info</title>
    <link rel="icon" href="/images/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="/styles/normalize.css" />
    <link rel="stylesheet" href="/styles/info-styles.css" />
    <link rel="stylesheet" href="/styles/prism.css" />
    <script type="module" src="/scripts/pages/info.js" defer></script>
  </head>
  <body>
    <h1 class="info-page-title">NumberQ Technical Information</h1>
    <article class="nq-info-article">
      <h2>Overview:</h2>
      <p>
        This page discusses the technical information about how
        <a href="/">NumberQ</a> works. The following will mainly focus on the
        important math concepts underlying the generators and the techniques
        used to implement those math concepts. This information is not needed to
        use the site, but is provided for anyone who may be interested.
        <br /><br />
        NumberQ is open source; its source code can be found on
        <a href="https://github.com/daniel-153/numberQ.git">GitHub</a>.
      </p>
      <p class="author-note">
        Written by <a href="">Daniel Trinkaus</a> on 10/07/2025.
        <span>Last</span> updated: 10/08/2025.
      </p>
      <h2>Contents:</h2>
      <ul class="main-contents-list">
        <li><a href="#objectives">Objectives For Problem Generation</a></li>
        <li><a href="#generators">Generators For Constraints</a></li>
        <li>
          <a href="#more-applications"
            >Generators For Constraints (more applications)</a
          >
        </li>
        <li><a href="#templates">Templates And Random Search</a></li>
        <li><a href="#unrestricted">Unrestricted Generation</a></li>
        <li><a href="#verification">Answer Verification</a></li>
        <li><a href="#technologies">Technologies</a></li>
      </ul>
      <h2 id="objectives">Objectives For Problem Generation:</h2>
      <p>
        NumberQ's math problem generation is aimed at addressing common
        difficulties invovled with creating random math questions. One issue
        with math problem generators is that they often produce problems of a
        very predictable structure. A linear equation generator, for instance,
        could simply use the form \(ax+b=cx+d\), substitute random values for
        the coefficients, and calculate the solution \(x=\frac{d-b}{a-c}\). 
        The equations on the resulting worksheet would all follow this same layout: \(3x+2=x+1\), \(-x+5=x-6\), etc.  
        The problem with this approach is that it undermines the value of the
        worksheets created with these problems. Instead of learning the general
        method for solving linear equations, students memorize an arbitrary set
        of steps because there is no variation in structure. The generator
        would be much more valuable if it offerred tens or hundreds of different
        equation forms (\(ax+b=c\), \(a + \frac{x}{b} = cx\), \(\frac{x+a}{b}=c\), etc).
        <br /><br />
        Another issue faced by math problem generators is the difficultly of
        creating "clean" problems. For example, suppose random values were
        subtituted for the coefficients in \(\frac{x}{a}+b=c\). This may result
        in relatively unpredictable problems, but an issue arises with the
        chosen values of the coefficients: they may result in numbers that are
        difficult to work with. Randomly substituting coefficients could result
        in \(\frac{x}{7}-13=10\), which requires \((7\cdot 23)\) to be
        calculated in order to solve. This may not entirely devalue the problem
        if a calculator were involved, but if the equation were just changed to
        \(\frac{x}{7}+13=10\), it would clearly be much cleaner and preferrable
        for teaching purposes.
        <br /><br />
        A third issue that a math problem generator needs to overcome is the
        ability to enforce particular mathematical properties. As an example, a
        naive approach to an "order of operations" question generator would be
        to select a few random numbers and separate them by random operators:
        \(N_{1}\circ N_{2} \circ N_{3}\). However, this could yield \(2-5+7\),
        which is useless in math classes where negative numbers have not been
        introduced yet. On the other hand, this may be exactly the type of
        problem a teacher wants if they are currently explaining negative numbers. The generator would be much more useful if it
        allowed teachers to select for properties like this.
        <br /><br />
        This is just a brief summary of challenges for math problem generation.
        NumberQ does not completely resolve these issues, but it was created to
        help address them. The following will explain some of the mathematical
        and programming techniques used for this. The problem generators are
        coded in JavaScript and do <i>not</i> make use of any form of AI or
        Large Language Model. At the time of writing, LLMs do not seem to be the
        optimal solution to math problem creation. They are difficult to prompt
        for specific mathematical properties and often produce incorrect
        answers.
      </p>
      <h2 id="generators">Generators For Constraints</h2>
      <p>
        This is a method for addressing the issue of "clean numbers" in randomly
        generated math problems. Take for instance the following equation and
        its solution:
      </p>
      <div class="block-math">\(ax+b=c;~~x=\frac{c-b}{a}\)</div>
      <p>
        Some specific substitutions for the coefficients may be \(9x-3=6\),
        \(3x+5=11\), \(6x+7=2\), and \(8x+2=4\) with solutions of \(1, 2,
        -\frac{5}{6},\) and \(\frac{1}{4}\) respectively. The first two
        equations are preferrable because they have simple integer solutions.
        More specifically, they have the property that \(c-b=ra\) where \(r\) is
        an integer. Solving \(c-b=ra\) for \(a\) yields \(a=\frac{c-b}{r}\). If
        the equation must have integer coefficients, then \(c-b\) must be
        an integer multiple of \(r\), so \(c-b=rs\) where \(s\) is an integer (meaning \(a=s\)).
        Isolating \(c\) gives \(c=b+rs\), and since \(b\) must be some integer
        (pick \(t\)), \(c=t+rs\). Substituing these selected values for \(a, b,\) and
        \(c\) back into the original equation yields the following:
      </p>
      <div class="block-math">\(ax+b=c \rightarrow [s]x+[t]=[t+rs]\)</div>
      <p>
        This adjusted equaton (where each expression in brackets [] represets a
        single coefficient) now has two properties: it has both integer
        coefficients and integer solutions for all values of \(r, s, t;~~s\neq
        0\). This kind of "transformation" is particulary useful for programming
        a linear equation generator. Rather than having to randomly substitute
        and check values for \(a, b,\) and \(c\) until an integer solution is
        found, program can pick <i>any</i> values for \(r, s, t;~~s\neq
        0\), and
        always meet this constraint. Furthermore, the solution to the
        transformed equation is always \(x=r\), so there is no need to calculate
        or verify the solution (it is known when the equation is generated).
        <br /><br />
        Note that this specific reordering of coefficients is not the only one
        that transforms the equation to have the desired properties. Isolating and remapping
        \(a, b,\) and \(c\) in a different order could have also yieled slightly
        different forms. All of the following transform the equation in this
        manner:
      </p>
      <div class="block-math">
        \(\begin{array}{c} ax+b=c & \rightarrow & [s]x+[t]=[t+rs] \\ ax+b=c &
        \rightarrow & [s]x+[t-rs]=[t] \\ ax+b=c & \rightarrow &
        [s + t]x+[-rt]=[rs] \end{array}\)
      </div>
      <p>
        This type of transformation essentially creates a "generator" to meet
        specific constraints, and it generalizes to other scenarios where the
        goal is to create algebriac math questions programmatically without
        running a random search algorithm (which is much more computationally
        expensive). The following is an example of how this may be implemented
        in JavaScript:
      </p>
      <div class="block-code"><div class="code-lang-label">JavaScript</div><pre class="code-wrap"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">buildEquation</span><span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span> s<span class="token punctuation">,</span> t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> equation <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>s<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>t<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>t <span class="token operator">+</span> r <span class="token operator">*</span> s<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

    <span class="token comment">// Simplify the expressions '1x', '-1x', and '+ -'</span>
    equation <span class="token operator">=</span> equation<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'1x'</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    equation <span class="token operator">=</span> equation<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'+ -'</span><span class="token punctuation">,</span> <span class="token string">'- '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Given by transforming</span>
    <span class="token keyword">const</span> solution <span class="token operator">=</span> r<span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">eq</span><span class="token operator">:</span> equation<span class="token punctuation">,</span>
        <span class="token literal-property property">sol</span><span class="token operator">:</span> solution
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Examples:</span>
<span class="token function">buildEquation</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { eq: '2x + 5 = 11', sol: 3 }</span>
<span class="token function">buildEquation</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { eq: '-4x - 1 = -9', sol: 2 }</span>
<span class="token function">buildEquation</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { eq: '2x + 2 = -8', sol: -5 }</span></code></pre></div>
      <p>
        Consider another linear equation form and one of its respective
        transformations to force integer solutions and coefficients:
      </p>
      <div class="block-math">
        \(\begin{array}{l} ax+b=cx+d;~~x=\frac{d-b}{c-a} \\ 
        {\scriptstyle{\mathbf{(1)}}} ~~~ x\Rightarrow k=\frac{d-b}{c-a} \\ 
        {\scriptstyle{\mathbf{(2)}}} ~~~ a\Rightarrow l=\frac{b-d+kc}{k} \\ 
        {\scriptstyle{\mathbf{(3)}}} ~~~ c\Rightarrow m=\frac{-b+d+kl}{k} \\ 
        {\scriptstyle{\mathbf{(4)}}} ~~~ b\Rightarrow n=d+kl-km \\ 
        {\phantom{{\scriptstyle{\mathbf{(1)}}} ~~~ }} d=n-kl+km \end{array}\)
      </div>
      <div class="block-math">\( \Downarrow \)</div>
      <div class="block-math">\( [l]x+[n]=[m]x+[n-kl+km]\)</div>
      <p>
        In each of steps (1)&ndash;(4), a new integer was introduced to meet a
        constraint. Step (1) introduced \(k\) to represent an integer solution.
        Then, in steps (2)&ndash;(4), \(l, m,\) and \(n\) were introduced to
        ensure that all of the coefficients remain integers. Finally, \(d\) was
        determined by an expression that is an integer for all integer values of
        its coefficients. The result is an equation in the same form as
        \(ax+b=cx+d\), but where all possible integer values for \(k, l, m,
        n;~~l \neq m\) yield the integer solution \(x=k\).
        <br /><br />
        There are some important characteristics to note about the process
        above. First, the equation had 4 coefficients, and it required 4
        substitutions to transform. Second, a different order could have been
        taken to isolate the coefficients, and this would have yielded a
        different transformed form with the same properties. Additionally, just
        as the \(ax+b=c\) equation from above, one remapped coefficient seems to
        "absorb" the values of the others:
      </p>
      <div class="block-math">
        \(\begin{array}{c} ax+b=c \\ \Downarrow \\ [s]x+[t]=[t+rs] \\ \\ \hline
        \\ ax+b=cx+d \\ \Downarrow \\ [l]x+[n]=[m]x+[n-kl+km] \end{array}\)
      </div>
      <p>
        The tendency for the value of one transformed coefficient to absorb the
        values of the others is the general characteristic of this
        transformation process. In fact, the transformation "steps" demonstrated
        above can be reduced to a single operation where an integer solution is assumed
        and a coefficient is isolated. In the example of \(ax+b=cx+d\) above, suppose
        we assume \(x\) is some integer \(x_{0}\), then isolate \(d\):
      </p>
      <div class="block-math">
        \(\begin{aligned}
        a(x_{0})+b &= c(x_{0}) + d \\
        d &= b - x_{0}c + x_{0}a
        \end{aligned}\)
      </div>
      <p>
        Substituing this value for \(d\) back into the original equation yields exactly
        the same result obtained in the 4 steps above \(([l]x+[n]=[m]x+[n-kl+km])\), only
        differing in the labels for the coefficients:
      </p>
      <div class="block-math">\(
        [a]x+[b]=[c]x+[b - x_{0}c + x_{0}a]
      \)</div>
      <p>
        This simplification of the transformation process works as long as one rearranges 
        for a variable that does not create any fractions when isolated (so in this case, 
        one could isolate \(b\) or \(d\) but not \(a\) or \(c\)).
        In \(ax=b\) for example, the transformation is
        simply \([l]x=[kl]\), and the motivation for this adjustment clear
        without any computation. Furthermore, this general method
        can also be used to meet other constraints besides enforcing integer solutions.
        For example, it might be desired that the subtraction \( a-b \) has a
        non-negative result, and the corresponding transformation is \(
        [k+l]-[l] \). These two examples are a good simplified representation of
        the "generators for constraints" method in general:
      </p>
      <div class="block-math">
        \(\begin{aligned} \frac{a}{b} &\rightarrow \frac{[lk]}{[l]} \\ a-b
        &\rightarrow [k+l]-[l] \end{aligned}\)
      </div>
      <h2 id="more-applications">
        Generators For Constraints (more applications):
      </h2>
      <p>
        An important characteristic of the general method described above is
        that it can be applied to many other topics besides linear equations.
        That being said, the specific process used to transform constraints to
        generators in other topics is often better framed graphically or
        geometrically. In other words, different methods can be used to reach
        similar results to those obtained for the linear equations above.
        <br /><br />
        The pythagorean theorem \(a^2+b^2=c^2\) is one such example where
        alternative methods can be applied. This is another case where integer
        solutions are desirable but unlikely for random substitutions of the
        coefficients. Suppose the following complex number \(z\) represents a
        lattice point in the first quadrant of the cartesian plane:
      </p>
      <div class="block-math">
        \( \begin{array}{c} z=P_{x} + P_{y}i \\ (i=\sqrt{-1};~~P_{x},P_{y} \in
        \mathbb{Z}^{+}) \end{array}\)
      </div>
      <p>
        An integer solution to the pythagorean theorem is represented by a
        lattice point (in Q1) that has an integer distance from the origin. For
        the complex number \(z\) (above), this occurs when \(z\) has an integer
        magnitude. This is a useful restatement of the original constraint.
        Consider the following operation:
      </p>
      <div class="block-math">
        \( \begin{array}{l} z'= z^2=(P_{x}+P_{y}i)^{2} \\ z'=
        P_{x}^{2}+2P_{x}P_{y}i-P_{y}^2 \\ z'= (P_{x}^2-P_{y}^2)+(2P_{x}P_{y})i
        \end{array}\)
      </div>
      <p>
        If \(P_{x},P_{y} \in \mathbb{Z}^{+}\) and \(P_{x}>P_{y}\), it follows
        that the real and imaginary components of \(z'\) are positve integers
        (so \(z'\) also represents an integer lattice point in Q1). However,
        since the magnitude of a product of two complex numbers is equal to the
        product of their individual magnitudes \( \lvert z_{1}z_{1} \rvert =
        \lvert z_{1} \rvert \lvert z_{2} \rvert\), the magnitude of \(z'\) is an
        integer:
      </p>
      <div class="block-math">
        \( \begin{array}{l} \lvert z' \rvert = \sqrt{(P_{x}^2-P_{y}^2)^2 +
        (2P_{x}P_{y})^2} \\ \lvert z' \rvert =
        \sqrt{P_{x}^4+2P_{x}^2P_{y}^2+P_{y}^4} \\ \lvert z' \rvert = P_{x}^2 +
        P_{y}^2 \end{array}\)
      </div>
      <p>
        As a result, the point represented by the compontents of \(z'\)
        satisfies the original constraint of a lattice point in Q1 with an
        integer distance to the origin: \( \left( P_{x}^2-P_{y}^2,~2P_{x}P_{y}
        \right);~~P_{x},P_{y} \in \mathbb{Z}^{+};~P_{x}>P_{y} \). Furthermore,
        it can be shown that positive integer values of \(P_{x},P_{y}\) generate
        <i>all</i> unique pythagorean triples in this manner (that is, all
        triples where \(\operatorname{GCF}(a,b,c)=1\)). Transforming the
        pythagorean theorem to utilize the componets of \(z'\) yields the
        following (another conversion of a constraint to a generator):
      </p>
      <div class="block-math">
        \(\begin{array}{c} a^2+b^2=c^2 \\ \Downarrow \\
        [P_{x}^2-P_{y}^2]^2+[2P_{x}P_{y}]^2=[P_{x}^2 + P_{y}^2]^2 \end{array}\)
      </div>
      <p>
        Although the pythagorean theorem has 3 unknowns and this transformed
        equation has 2, this result is consistent with the properties of linear
        equation transformations (discussed in the previous section). In
        practice, some unknown \(x\) would take the place of one of the terms.
        For example, the equation implemented in code may be
        \([P_{x}^2-P_{y}^2]^2+x^2=[P_{x}^2 + P_{y}^2]^2\) where the solution for
        \(x\) will be an integer for all values of \(P_{x}\) and \(P_{y}\).
        <br /><br />
        Another case where geometric and graphical reasoning can be applied to
        create a generator for constraints is a system of linear equations. In a
        system of equations such as the following (where \(a,b,c,d \in
        \mathbb{Z}\)), an integer solution for both \(x\) and \(y\) is often
        desirable:
      </p>
      <div class="block-math">
        \(\begin{array}{l} y=ax+b \\ y=cx+d \end{array}\)
      </div>
      <p>
        Suppose the point where these lines intersect is \(S=(S_{x},S_{y})\)
        where \(S_{x}\) and \(S_{y}\) are integers. If the lines intersect at
        \(S\), \((S_{x},S_{y})\) satisfies both equations. As a result, the
        equations can be rewritten as follows:
      </p>
      <div class="block-math">
        \(\begin{array}{l} y-S_{y}=a(x-S_{x}) \\ y-S_{y}=c(x-S_{x})
        \end{array}\)
      </div>
      <p>
        This rewritten form reflects both the point of intersection and each
        line's slope. To extract a transformation for the orignal equations,
        however, the system directly above needs to be rewritten in slope
        intercept form. This will yield remappings for \(b\) and \(d\):
        \(b=-aS_{x}+S_{y},~d=-cS_{x}+S_{y}\). The final transformation of the
        original system is the following (which has integer solutions and
        coefficients for all integer values of \(a,c,S_{x},S_{y}\)):
      </p>
      <div class="block-math">
        \(\begin{array}{l} y=[a]x+[-aS_{x}+S_{y}] \\ y=[c]x+[-cS_{x}+S_{y}]
        \end{array}\)
      </div>
      <p>
        As with the transformations of linear equations discussed in the
        previous section, the number of coefficients remained unchanged before
        and after this transformation: \( (a,b,c,d)\rightarrow (a,c,S_{x},S_{y})
        \). Also, note that this process of selecting a point to represent the
        intersection of the lines could have began with the lines in a different
        form (such as point-slope or standard form) and yieled a similar result.
        The following is a simplified example implementation:
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">buildSystem</span><span class="token punctuation">(</span><span class="token parameter">slope1<span class="token punctuation">,</span> slope2<span class="token punctuation">,</span> x_sol<span class="token punctuation">,</span> y_sol</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> system <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">y = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>slope1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">-</span>slope1 <span class="token operator">*</span> x_sol <span class="token operator">+</span> y_sol<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">y = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>slope2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">-</span>slope2 <span class="token operator">*</span> x_sol <span class="token operator">+</span> y_sol<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// Simplify expressions like '1x', '-1x', and '+ -'</span>
    system <span class="token operator">=</span> system<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">eq</span> <span class="token operator">=></span>
        eq<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'1x'</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'+ -'</span><span class="token punctuation">,</span> <span class="token string">'- '</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Given by transforming</span>
    <span class="token keyword">const</span> solution <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x_sol<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y_sol<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">eq1</span><span class="token operator">:</span> system<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">eq2</span><span class="token operator">:</span> system<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">sol</span><span class="token operator">:</span> solution
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Examples:</span>

<span class="token function">buildSystem</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { eq1: 'y = 2x - 1', eq2: 'y = x + 2', sol: '(3, 5)' }</span>

<span class="token function">buildSystem</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { eq1: 'y = -4x + 6', eq2: 'y = -2x + 4', sol: '(1, 2)' }</span>

<span class="token function">buildSystem</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { eq1: 'y = 3x - 19', eq2: 'y = x - 7', sol: '(6, -1)' }</span></code></pre>
      </div>
      <h2 id="templates">Templates And Random Search</h2>
      <p>
        Although the above method of "generators for constraints" eliminates the
        need for a search algorithm in many cases, there are scenarios where the
        latter technique may be preferable. "Generators
        for constraints" is aimed at solving the problem of clean numbers, but it does 
        not provide much variation in structure. In the case where \(ax+b=c\) was transfomed to
        \([s]x+[t]=[t+rs]\), the transformed equation can be implemented to have
        random coefficients and solutions; however, maintaining the same form of
        \(ax+b=c\) means that problems can become too predictable.
        <br /><br />
        One clear solution is to implement more forms, so the code may randomly
        chose between \(ax+b=c\), \(ax=bx+c\), \(ax+b=cx+d\), etc. However, each
        of these equations requires different transformations, and building
        transformations for tens or hundreds of equations can result in a
        codebase that is very difficult to manage.
        <br /><br />
        Thus, it is often preferrable to write the equation form directly into
        the code and rely on a random search to provide coefficents and
        solutions with the desired characteristics. For example, the three
        equations mentioned above might be written as:
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token keyword">const</span> equation_forms <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">form1</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">eq</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">sol</span><span class="token operator">:</span> <span class="token punctuation">(</span>c <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">/</span> a
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">form2</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">eq</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x + c</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">sol</span><span class="token operator">:</span> c <span class="token operator">/</span> <span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">form3</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">eq</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">sol</span><span class="token operator">:</span> <span class="token punctuation">(</span>d <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>a <span class="token operator">-</span> c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
      </div>
      <p>
        Writing the equations as "templates" (above) without creating a
        transformation for each one has several benefits. There can be close
        control for difficultly&mdash;since forms can be clearly grouped into
        categories. Handling for formatting and enforcing specific properties
        can be centralized (rather than being repeated for each equation).
        Furthermore, it is often more efficient for a developer to write and
        reason with these than with the transformations.
        <br /><br />
        In practice, however, there are some additional details that need to be
        accounted for. These are best illustrated by an example from a fully
        implemented generator. The following JavaScript object property (pulled
        directly from the codebase for NumberQ's linear equation generator)
        represents the equation \(a(bx+c)=d\):
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token literal-property property">inter_4</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">verify_reqs</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>
            a <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span>
            b <span class="token operator">===</span> <span class="token number">1</span> 
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">get_sol</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">raw_value</span><span class="token operator">:</span> <span class="token punctuation">(</span>d <span class="token operator">-</span> <span class="token punctuation">(</span>a<span class="token operator">*</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>a<span class="token operator">*</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">numer</span><span class="token operator">:</span> <span class="token punctuation">(</span>d <span class="token operator">-</span> <span class="token punctuation">(</span>a<span class="token operator">*</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">denom</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">*</span>b<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">create_prompt</span><span class="token punctuation">(</span><span class="token parameter">vl<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        a <span class="token operator">=</span> <span class="token constant">MH</span><span class="token punctuation">.</span><span class="token function">start_var</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        b <span class="token operator">=</span> <span class="token constant">MH</span><span class="token punctuation">.</span><span class="token function">start_var</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c <span class="token operator">=</span> <span class="token constant">MH</span><span class="token punctuation">.</span><span class="token function">middle_const</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        d <span class="token operator">=</span> d <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">'('</span> <span class="token operator">+</span> b <span class="token operator">+</span> vl <span class="token operator">+</span> c <span class="token operator">+</span> <span class="token string">')='</span> <span class="token operator">+</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">absorber</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">H</span><span class="token punctuation">.</span><span class="token function">randFromList</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">number_of_coefs</span><span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>
        The first method of inter_4, <b>verify_reqs</b>, is responsible for
        enforcing certain rules for the values of the coefficients. In this
        case, the method ensures that neither \(a\) nor \(b\) are equal to
        \(1\). The reason is that these would cause the equation to reduce to a
        simpler form (such as \(bx+c=d\) or \(x+c=d\)), and this is not desired
        here. <br /><br />
        The purpose of the <b>get_sol</b> method is mainly clear as written.
        However, note that the numerator and denominator are exposed because
        they reveal whether the equation has an integer solution <b>(1)</b>,
        non-integer solution <b>(2)</b>, no solution <b>(3)</b>, or infinitely
        many solutions <b>(4)</b>. For a linear equation with coefficients \((
        a_{1}, a_{2}, a_{3}, \ldots )\) and constant terms \((c_{1}, c_{2},
        c_{3}, \ldots )\), the following holds (where \(A\) and \(C\) are
        integer expressions of the coefficients and constant terms respectively,
        and <b>(1)</b>&ndash;<b>(4)</b> refer to the cases mentioned in the
        previous sentence):
      </p>
      <div class="block-math">
        \(\begin{array}{c} A(a_{1}, a_{2}, a_{3}, \ldots)x=C(c_{1}, c_{2},
        c_{3}, \ldots) \\ \Downarrow \end{array}\)
      </div>
      <div class="block-math">
        \(\begin{array}{r} A \mid C~~\scriptstyle{\mathbf{(1)}} \\ A \nmid
        C~~\scriptstyle{\mathbf{(2)}} \\ A=0,~C\neq
        0~~\scriptstyle{\mathbf{(3)}} \\ A=C=0~~\scriptstyle{\mathbf{(4)}}
        \end{array}~~~~~~\)
      </div>
      <p>
        The <b>create_prompt</b> method builds the string for the equation based
        on mathematical conventions. The calls to MH.start_var and
        MH.middle_const are responsible for handling adjustments such as \(([1x]
        \rightarrow [x])\) and \(([x+-5] \rightarrow [x-5])\). <br /><br />
        The <b>absorber</b> property specificies certain coefficients that
        should have larger values than the others if the user requires integer
        solutions. In this case (\(a(bx+c)=d\)), the two specified coefficients
        are \(c\) and \(d\), and the reason for selecting these is that they
        both appear exclusively in the numerator of the solution
        \(x=\frac{d-ac}{ab}\). In the solution search process, if \(c\) and
        \(d\) are generally assigned numbers with a greater magnitude than \(a\)
        and \(b\), an integer solution is likely to be found in less time. This
        is simply due to the fact that the numerator \(d-ac\) must be a multiple
        of the denominator \(ab\), and increasing the value of \(c\)
        <i>or</i> \(d\) increases the magnitude of the numerator while leaving
        the denominator unchanged. <br /><br />
        The inter_4 property and all of its sub properties and methods
        (discussed directly above) represent one equation form: \(a(bx+c)=d\).
        At the time of writing, there are a total of 42 forms like this one in
        the linear equation generator on NumberQ (listed as inter_1, inter_2,
        inter_3, etc). Each of these forms can be selected by the user, and
        based on their current settings, the following algorithm will attempt to
        find random coefficients that meet the resulting constraints:
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token comment">// Solution search </span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>sol_is_found <span class="token operator">&amp;&amp;</span> run_counter <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Pick every coef besides the last two</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>coef_index <span class="token operator">&lt;</span> number_of_coefs <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        coef_arr<span class="token punctuation">[</span>coef_index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">H</span><span class="token punctuation">.</span><span class="token function">randFromList</span><span class="token punctuation">(</span>
            coefficient_ranges<span class="token punctuation">[</span>coef_index<span class="token punctuation">]</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span> 
        coef_index<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Repeatedly attempt values for the last two coefs</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len_of_AB_pairs<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        coef_arr<span class="token punctuation">[</span>number_of_coefs <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> AB_pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        coef_arr<span class="token punctuation">[</span>number_of_coefs <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> AB_pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        current_sol_obj <span class="token operator">=</span> <span class="token function">solGetter</span><span class="token punctuation">(</span><span class="token operator">...</span>coef_arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Check the conditions</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>
            <span class="token function">solutionIsValid</span><span class="token punctuation">(</span>current_sol_obj<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> 
            <span class="token function">coefVerifier</span><span class="token punctuation">(</span><span class="token operator">...</span>coef_arr<span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sol_is_found <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    coef_index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    run_counter<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>
        The above process attempts to randomly select coefficients that satisfy
        both the contraints of the user (such as integer solutions) and those of
        the equation form (such as restrictions on certain values). However, the
        "run_counter &lt; 500" expression in the loop condition limits this
        process to a finite number of attempts (which is necessary for a user
        interface). A few techniques are used to increase the odds of success
        given this explicit limit. First, as mentioned before, certain
        coefficients are designated as "absorbers," which increases the
        probabilty of finding an integer solution. Additionally, the outer loop
        does not select the entire group of coefficients on every execution. In
        \(a(bx+c)=d(ex+f)\), for example, the loop first randomly assigns values
        to a (random) group of all but 2 coefficients (so the initial assignment
        may be \( (a,c,e,f) \rightarrow (4,2,3,4) \)). Then, for the remaining 2
        coefficients (\(b\) and \(d\) in this case), every permutation of the
        possibile coefficients is tested in search of a solution that meet the
        constraints.
        <br /><br />
        Together, these two techniques allow valid solutions to be found within
        500 attempts in almost all cases. However, in the rare event where a
        solution was not found, fallback values are used:
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sol_is_found<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Use a backup set of coefs (fetch json if needed)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>backup_json <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> backup_json <span class="token operator">=</span> <span class="token punctuation">(</span>
        <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../backup-jsons/bkpLinEq.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>

    coef_arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">H</span><span class="token punctuation">.</span><span class="token function">randFromList</span><span class="token punctuation">(</span>
        backup_json<span class="token punctuation">[</span>lin_eq_equation_form<span class="token punctuation">]</span><span class="token punctuation">[</span>setting_type<span class="token punctuation">]</span>
    <span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>
        The "backup json" being fetched in the dynamic import statement is
        essentially a pre-built list of valid coefficient values for every form
        and every permutation of the user settings. This json was created as the
        generator was being developed by removing the limit on the number of
        solution search attempts (so around 20 valid solutions were found for
        <i>every</i> form where integer solutions are possible). As a result, in
        the extremely rare case where the search algorithm fails, the user can
        still be given an equation that matches their settings (which the user
        is extremely unlikely to have been given before). <br /><br />
        This is the final step in the "templates and random search" method. In
        general, the method involes four components: templates to represent
        algebriac math expressions, restrictions for values in each of those
        templates, a solution search algorithm, and fallback values for each
        template.
        <br /><br />
        The last important note about "templates and random search" is that it
        is applicable well beyond linear equations. At the time of writing,
        three other generators on NumberQ also make use of a similar method:
        variable isolation, square root simplification, and rational
        expressions. The following are examples of template usage in each of
        these generators (pulled directly from the codebase):
        <br /><br />
        Variable Isolation:
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token punctuation">{</span> <span class="token comment">// Static form</span>
    <span class="token function-variable function">base_form</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\frac{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function-variable function">a</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\frac{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function-variable function">b</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\frac{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function-variable function">c</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\frac{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function-variable function">d</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\frac{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function-variable function">e</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\frac{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> <span class="token comment">// Dynamic form (basic AST-like structure)</span>
    <span class="token function-variable function">base_form</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">B</span><span class="token punctuation">,</span><span class="token constant">C</span><span class="token punctuation">,</span><span class="token constant">D</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token constant">VIH</span><span class="token punctuation">.</span><span class="token function">buildEq</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">D</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">a</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">b<span class="token punctuation">,</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">B</span><span class="token punctuation">,</span><span class="token constant">C</span><span class="token punctuation">,</span><span class="token constant">D</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token constant">VIH</span><span class="token punctuation">.</span><span class="token function">buildEx</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">VIH</span><span class="token punctuation">.</span><span class="token function">buildFrac</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">D</span> <span class="token operator">-</span> <span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">b</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">B</span><span class="token punctuation">,</span><span class="token constant">C</span><span class="token punctuation">,</span><span class="token constant">D</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token constant">VIH</span><span class="token punctuation">.</span><span class="token function">buildEx</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">VIH</span><span class="token punctuation">.</span><span class="token function">buildFrac</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">B</span> <span class="token operator">-</span> <span class="token constant">D</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function">prodEx</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>Square root expression simplification:</p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token literal-property property">begin_3</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">select</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">allow_negatives</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Random selection</span>
    <span class="token function-variable function">create</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span> <span class="token operator">...</span>pm</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// Usage of templates</span>
        <span class="token literal-property property">prompt_str</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            \\sqrt{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">} </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">SRH</span><span class="token punctuation">.</span><span class="token function">pm</span><span class="token punctuation">(</span>pm<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> \\sqrt{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">} </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">SRH</span><span class="token punctuation">.</span><span class="token function">pm</span><span class="token punctuation">(</span>pm<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> \\sqrt{</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">ans_num_int</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ans_num_radics</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>pm<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>pm<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ans_den</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>Rational Expressions:</p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token literal-property property">md_8</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// Similar to linear equations</span>
    <span class="token function">global_reqs</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            d <span class="token operator">!==</span> e
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">structure</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">num_A</span><span class="token operator">:</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">den_A</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">+</span> c<span class="token punctuation">,</span> b<span class="token operator">*</span>c<span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">num_B</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> d<span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">den_B</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> e<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">number_of_coefs</span><span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <h2 id="unrestricted">Unrestricted Generation</h2>
      <p>
        The method of "unrestricted generation" is applied to math topics that
        have few constraints on the coefficients in their problems. Typically,
        this technique is used when there is no benefit to applying "generators
        for constraints" or "templates and random search" (the methods discussed
        in the previous sections). As such, this method is typically quite basic
        and only needs a brief explanation.
        <br /><br />
        Consider a generator for addition problems. In this case, there are no
        futher constraints that the generator needs to enforce. The
        implementation may simply select two integers from a user-defined range:
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">buildAddition</span><span class="token punctuation">(</span><span class="token parameter">min_size<span class="token punctuation">,</span> max_size</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">randInt</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min 
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">const</span> term1 <span class="token operator">=</span> <span class="token function">randInt</span><span class="token punctuation">(</span>min_size<span class="token punctuation">,</span> max_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> term2 <span class="token operator">=</span> <span class="token function">randInt</span><span class="token punctuation">(</span>min_size<span class="token punctuation">,</span> max_size<span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">sum</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>term1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>term2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">ans</span><span class="token operator">:</span> term1 <span class="token operator">+</span> term2
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>
        In math topics where "clean numbers" are either guarunteed or
        irrelevant, the code for selecting numbers in the underlying generator
        is usually not much more complex than what is shown above. Examples of
        these topics include basic arithmetic (addition and multiplication),
        simple linear algebra operations (vector and matrix arithmetic), and
        problems where calculators are required.
        <br /><br />
        Some nuance can arise in topics that have other restrictions on their
        given values (unrelated to enforcing simple numbers). The following are
        some examples: a "law of sines and cosines" problem needs to guaruntee
        that its random length numbers satisfy the triangle inequality; a
        "fraction arithmetic" problem may need to ensure that the two fractions
        it creates do not immidiately reduce to integers; and a "subtraction"
        problem may require its answer to be positive. However, unlike the more
        nuanced constraints discussed for other methods, these constraints can
        met without any form of "transformation" or "template". Typically, this
        is simply done by restricting the ranges from which random integers are
        selected.
      </p>
      <h2 id="verification">Answer Verification</h2>
      <p>
        The most important aspect of a math problem generator like NumberQ is
        correctness. NumberQ uses <a href="https://www.sympy.org/">SymPy</a> and
        <a href="https://shapely.readthedocs.io/">Shapely</a> to verify its
        answers. These are trusted, open-source python libraries that provide
        symbolic math and geometry functionality respectively. This section will
        describe how these technologies are used for answer verification.
        <br /><br />
        Beginning with SymPy, this library is mainly useful for verifing answers
        to symbolic computation problems (expressions, equations, etc). As
        demonstrated with the code samples for linear equations (above), most
        generators on NumberQ have already determined the answer to a prompt as
        it is created (rather than calculating the answer after creating the
        prompt). Thus, to verify that an answer supplied by NumberQ is correct,
        it (along with its corresponding question) is supplied to a python
        server that uses SymPy to calculate the answer to the same quesiton.
        Then, the answer from the NumberQ generator must exactly match the
        answer from SymPy to be considered correct. The following is a minimal
        example with several elements removed or abstracted for simplicity:
        <br /><br />
        JavaScript front end:
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">generateLinearEq</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100_000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Generate a question</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>prompt<span class="token punctuation">,</span> answer<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">generateLinearEq</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Verify with SymPy (fetch request to a python server)</span>
    <span class="token keyword">const</span> test_result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">matchToSympy</span><span class="token punctuation">(</span>prompt<span class="token punctuation">,</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// Catch failures</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>test_result<span class="token punctuation">.</span>is_success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Incorrect answer detected.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>Python back end:</p>
      <div class="block-code">
        <div class="code-lang-label">Python</div>
        <pre
          class="code-wrap"
        ><code class="language-python"><span class="token keyword">from</span> sympy <span class="token keyword">import</span> symbols<span class="token punctuation">,</span> solve
<span class="token keyword">from</span> sympy<span class="token punctuation">.</span>parsing<span class="token punctuation">.</span>latex <span class="token keyword">import</span> parse_latex

<span class="token keyword">def</span> <span class="token function">verify</span><span class="token punctuation">(</span>tex_question<span class="token punctuation">,</span> tex_answer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Parse the LaTeX strings from NumberQ</span>
    variable<span class="token punctuation">,</span> provided_sol <span class="token operator">=</span> tex_answer<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span>
    provided_sol <span class="token operator">=</span> parse_latex<span class="token punctuation">(</span>provided_sol<span class="token punctuation">)</span>

    <span class="token comment"># Use SymPy to solve the same equation</span>
    calculated_sol <span class="token operator">=</span> solve<span class="token punctuation">(</span> 
        parse_latex<span class="token punctuation">(</span>tex_question<span class="token punctuation">)</span><span class="token punctuation">,</span> symbols<span class="token punctuation">(</span>variable<span class="token punctuation">)</span> 
    <span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    <span class="token comment"># Ensure the solutions match</span>
    <span class="token keyword">if</span> provided_sol<span class="token punctuation">.</span>equals<span class="token punctuation">(</span>calculated_sol<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span></code></pre>
      </div>
      <p>
        The first important aspect to note about the example above is the loop
        in the JavaScript code: rather than testing each question as the user
        generates them, NumberQ attempts to test every possible output of a
        generator before it is ever used in production. In other words,
        <b>generation is separated from verification</b>. The development
        process for a generator on NumberQ is to first draft a working
        prototype, then test it <i>extensively</i> (several hundred thousand
        times) using a method that is very similar to the example shown above.
        This reveals any bugs (which are then fixed). The result is that the
        final generator used on the website does not need constant verification;
        it has already been shown to be >99.999% accurate (eliminating the need
        for back end, which allows for a much faster website). <br /><br />
        Another important note about the above example is that, in practice, the
        problems on NumberQ are created based on user settings. As a result, in
        order to fully test a generator before putting in production, permutations 
        of user settings need to be tested. In generators with only
        a few settings options, every permutation of the possible input values can be
        tested several times over. However, in generations with more settings options
        (where that number of permuations can be in the tens of billions), a few
        hundred thousand permuations of the user settings are randomly selected
        and tested.
        <br /><br />
        This same process is also used to verify geometry questions on NumberQ,
        but the Shapely python library is required to first extract the LaTeX
        from the figure. The generators that output figures (such as triangles)
        use the HTML canvas API to create these drawings, so there is no LaTeX
        exposed in the output that can be directly given to SymPy
        utilities&mdash;this is one difficulty with verifying geometry quesiton
        generators. Another challenge is that the labels in the figures need to
        be accurately matched to the dimensions they represent. For example, if
        two labels in a triangle problem are both accidently placed on the same
        side, that question should be flagged by the verifier even if the
        numbers satisfy the related equations.
        <br /><br />
        The first step to address these issues is to track the history of
        canvas "commands" used to create the geometry figures. An HTML canvas is
        interacted with by calling methods such as lineTo, fillRect, moveTo,
        drawImage, etc. On NumberQ, all these method calls are captured and
        stored with their supplied arguments, and this is used to represent
        exactly what is drawn on the canvas in JSON format. The following is an
        example of this JSON (simplified and condensed for clarity):
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-python"><span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'canvas_modification'</span><span class="token punctuation">,</span> property_name<span class="token punctuation">:</span> <span class="token string">'width'</span><span class="token punctuation">,</span> new_value<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'canvas_modification'</span><span class="token punctuation">,</span> property_name<span class="token punctuation">:</span> <span class="token string">'height'</span><span class="token punctuation">,</span> new_value<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'scale'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'property_set'</span><span class="token punctuation">,</span> property_name<span class="token punctuation">:</span> <span class="token string">'lineWidth'</span><span class="token punctuation">,</span> new_value<span class="token punctuation">:</span> <span class="token number">5.5</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">4</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'save'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">5</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'translate'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">6</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'scale'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'save'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">8</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'property_set'</span><span class="token punctuation">,</span> property_name<span class="token punctuation">:</span> <span class="token string">'lineCap'</span><span class="token punctuation">,</span> new_value<span class="token punctuation">:</span> <span class="token string">'square'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">9</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'beginPath'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">10</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'moveTo'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">11</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'lineTo'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">12</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'stroke'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">13</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'drawImage'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">14</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>action<span class="token punctuation">:</span> <span class="token string">'method_call'</span><span class="token punctuation">,</span> method_name<span class="token punctuation">:</span> <span class="token string">'drawImage'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> Array<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>
        In the above example, the argument arrays can store coordinates and
        LaTeX strings; for example:
      </p>
      <div class="block-code">
        <div class="code-lang-label">JavaScript</div>
        <pre
          class="code-wrap"
        ><code class="language-python"><span class="token punctuation">{</span>
    <span class="token string">"action"</span><span class="token punctuation">:</span> <span class="token string">"method_call"</span><span class="token punctuation">,</span>
    <span class="token string">"method_name"</span><span class="token punctuation">:</span> <span class="token string">"lineTo"</span><span class="token punctuation">,</span>
    <span class="token string">"args"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">429</span><span class="token punctuation">,</span> <span class="token number">158</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">"action"</span><span class="token punctuation">:</span> <span class="token string">"method_call"</span><span class="token punctuation">,</span>
    <span class="token string">"method_name"</span><span class="token punctuation">:</span> <span class="token string">"drawImage"</span><span class="token punctuation">,</span>
    <span class="token string">"args"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">"identifier_note"</span><span class="token punctuation">:</span> <span class="token string">"mjx_image"</span><span class="token punctuation">,</span>
            <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"latex_code"</span><span class="token punctuation">:</span> <span class="token string">"30^\\circ"</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token number">352</span><span class="token punctuation">,</span> <span class="token number">246</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">59</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
      </div>
      <p>
        In testing, this JSON is supplied to the Shapely library, which is used
        to verify proper drawing (along with labeling) and to extract the LaTeX
        for the labels. The following is (part of) of the implementation to
        accomplish this:
      </p>
      <div class="block-code">
        <div class="code-lang-label">Python</div>
        <pre
          class="code-wrap"
        ><code class="language-python"><span class="token keyword">from</span> shapely <span class="token keyword">import</span> Polygon<span class="token punctuation">,</span> LineString<span class="token punctuation">,</span> Point

<span class="token keyword">def</span> <span class="token function">triangle_info_from_points</span><span class="token punctuation">(</span>point_A<span class="token punctuation">,</span> point_B<span class="token punctuation">,</span> point_C<span class="token punctuation">)</span><span class="token punctuation">:</span>
    triangle_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">"vertices"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">"A"</span><span class="token punctuation">:</span> point_A<span class="token punctuation">,</span>
            <span class="token string">"B"</span><span class="token punctuation">:</span> point_B<span class="token punctuation">,</span>
            <span class="token string">"C"</span><span class="token punctuation">:</span> point_C
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"sides"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">"a"</span><span class="token punctuation">:</span> LineString<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span> point<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token keyword">for</span> point <span class="token keyword">in</span> <span class="token punctuation">[</span>point_B<span class="token punctuation">,</span> point_C<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"b"</span><span class="token punctuation">:</span> LineString<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span> point<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token keyword">for</span> point <span class="token keyword">in</span> <span class="token punctuation">[</span>point_C<span class="token punctuation">,</span> point_A<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"c"</span><span class="token punctuation">:</span> LineString<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span> point<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token keyword">for</span> point <span class="token keyword">in</span> <span class="token punctuation">[</span>point_A<span class="token punctuation">,</span> point_B<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"polygon_obj"</span><span class="token punctuation">:</span> Polygon<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span> point<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token keyword">for</span> point <span class="token keyword">in</span> <span class="token punctuation">[</span>point_A<span class="token punctuation">,</span> point_B<span class="token punctuation">,</span> point_C<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment"># Ensure the points actually do form a triangle by checking the triangle inequalities</span>
    a <span class="token operator">=</span> triangle_info<span class="token punctuation">[</span><span class="token string">"sides"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    b <span class="token operator">=</span> triangle_info<span class="token punctuation">[</span><span class="token string">"sides"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"b"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    c <span class="token operator">=</span> triangle_info<span class="token punctuation">[</span><span class="token string">"sides"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length

    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">></span> c<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> c <span class="token operator">></span> b<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>b <span class="token operator">+</span> c <span class="token operator">></span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> triangle_info
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"The three provided points do not form a valid triangle."</span></span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">match_triangle_side_labels</span><span class="token punctuation">(</span>triangle_info<span class="token punctuation">,</span> parsed_deter_label_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    side_label_strings <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span>
    matched_sides <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment"># Sides that a label has been found for</span>
    <span class="token keyword">for</span> label <span class="token keyword">in</span> parsed_deter_label_list<span class="token punctuation">:</span>
        side_distances <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span>
        <span class="token keyword">for</span> side_name<span class="token punctuation">,</span> side_segment <span class="token keyword">in</span> triangle_info<span class="token punctuation">[</span><span class="token string">'sides'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            side_distances<span class="token punctuation">[</span>side_name<span class="token punctuation">]</span> <span class="token operator">=</span> side_segment<span class="token punctuation">.</span>distance<span class="token punctuation">(</span>label<span class="token punctuation">[</span><span class="token string">'rectangle'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>centroid<span class="token punctuation">)</span>

        min_distance <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>side_distances<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        sides_with_min_distance <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment"># Should only be one if valid</span>
        <span class="token keyword">for</span> side_name<span class="token punctuation">,</span> side_distance <span class="token keyword">in</span> side_distances<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> side_distance <span class="token operator">==</span> min_distance<span class="token punctuation">:</span> sides_with_min_distance<span class="token punctuation">.</span>append<span class="token punctuation">(</span>side_name<span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>sides_with_min_distance<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span>  Exception<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Label not be determined to be closest to a particular side."</span></span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            side_label_strings<span class="token punctuation">[</span>sides_with_min_distance<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> label<span class="token punctuation">[</span><span class="token string">'latex_content'</span><span class="token punctuation">]</span>
            matched_sides<span class="token punctuation">.</span>append<span class="token punctuation">(</span>sides_with_min_distance<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matched_sides<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>matched_sides<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Multiple labels correspond to a single side in the triangle."</span></span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> side_label_strings</code></pre>
      </div>
      <p>
        After all necessary geometry verification and extraction functions have
        run, such as the ones above, verification can proceed as it
        normally would using SymPy (as demonstrated in the first example in this
        section).
      </p>
      <h2 id="technologies">Technologies</h2>
      <p>
        NumberQ uses the following open-source JavaScript and Python
        technolgies:
      </p>
      <ul class="links-list">
        <li>
          <a class="list-link" href="https://www.mathjax.org/">MathJax</a>:
          JavaScript display engine that renders LaTeX in html. MathJax finds
          LaTeX on a webpage and outputs rendered math in SVG or HTML format;
          for example, MathJax converts '\sin(2\pi x^{2})' to \(\sin(2\pi
          x^{2})\) (which in this case is HTML). NumberQ uses MathJax to render
          all of its math expressions and to create labels for geometry figures.
        </li>
        <li>
          <a class="list-link" href="https://prismjs.com/">Prism.js</a>: JavaScript
          and CSS library used to format code in html. Prism takes a piece of
          code as text, then highlights (colors) it according to a specified
          language. Prism is very useful for writing online code documentation:
          all of the code on this page is highlighted using Prism.
        </li>
        <li>
          <a class="list-link" href="https://www.sympy.org/">SymPy</a>: Python
          library for symbolic math. SymPy is used for math computations that
          are mainly symbolic (where the result is an exact value or
          expression). Some examples include sympifying experssions, solving
          equations for exact answers, or finding symbolic derivatives and
          integerals. NumberQ uses the tools provided by SymPy to test and
          verify its math generators.
        </li>
        <li>
          <a class="list-link" href="https://shapely.readthedocs.io/">Shapely</a
          >: Python library for analyzing and manipluating objects in two
          dimensional space. Shapely can be used to perform operations on point
          sets, and it can also test many important properties of point sets.
          For example, Shapely can perform geometric transformations, determine
          whether polygons are disjoint or overlapping, and find geometric
          locations like the centroid of a shape. NumberQ uses Shapely to help
          test and verify its geometry problem generators.
        </li>
      </ul>
    </article>
  </body>
</html>
