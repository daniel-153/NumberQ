<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NumberQ</title>
    <link rel="icon" href="images/icon.png" type="image/x-icon" />
    <link rel="stylesheet" href="styles/normalize.css" />
    <link rel="stylesheet" href="styles/home-styles.css" />
    <link rel="stylesheet" href="styles/pg-ui-styles.css" />
    <link rel="stylesheet" href="styles/settings-styles.css" />
    <link rel="stylesheet" href="styles/info-styles.css" />
    <link rel="stylesheet" href="styles/export-ui-styles.css" />
    <link rel="stylesheet" href="styles/presets-styles.css" />
    <link rel="stylesheet" href="styles/presentation-styles.css" />
  </head>
  <body>
    <div id="home-page-content" class="hidden-content">
      <div id="outer-title-container">
        <div id="inner-title-container">
          <h1 id="numberQ-header">
            <span id="numberQ-N">N</span>umber\( \mathbb{Q} \)
          </h1>
        </div>
        <p id="numberQ-description">
          Generate random math problems for your students. NumberQ allows
          teachers to create unique problems in a wide array of subjects.
        </p>
      </div>
      <div id="generator-list">
        <div class="generator" id="coming-soon-gen">
          <div class="gen-title-container">
            <h1 class="gen-title" id="coming-soon-header">More Coming Soon</h1>
          </div>
          <div class="example-problem" id="coming-soon-problems">
            \(\frac{d}{dx}\left[5x^{2}\sin\left(x\right)\right]\)&thinsp;\(\sqrt[3]{\frac{3x^{5}y^{4}}{24y}}\)&thinsp;\(\log_{5}(x^{3}y)-\log_{5}(y^{4})\)
          </div>
          <button id="feedback-button">Give Feedback & Suggestions</button>
        </div>
        <div class="generator" id="info-gen">
          <div class="gen-title-container">
            <h1 class="gen-title">Technical Information</h1>
          </div>
          <div class="example-problem" id="generator-info-examples">
            How are the problems created? <br />
            What algorithms are used? <br />
            What technolgies are involved?
          </div>
          <button id="see-info-button">See Info Page</button>
        </div>
      </div>
    </div>
    <div id="generation-content" class="hidden-content">
      <img
        id="pgui-back-arrow"
        class="ui-back-arrow"
        src="images/back_arrow.png"
        alt="back-arrow"
      />
      <div id="generation-content-wrapper">
        <div id="generation-container">
          <h1 id="gen-type-header">
            <div id="generator-name"></div>
          </h1>
          <div id="inner-generation-wrapper">
            <div id="Q-A-container">
              <div id="Q-column" class="gen-column">
                <h2 class="column-header">Q</h2>
                <div class="output-box-group-wrapper">
                  <div class="rendered-box-wrapper">
                    <div class="math-output-wrapper">
                      <div
                        class="output-box rendered-box"
                        id="rendered-Q"
                      ></div>
                    </div>
                  </div>
                  <div class="un-rendered-box-wrapper">
                    <div class="output-box latex-box" id="un-rendered-Q"></div>
                  </div>
                </div>
              </div>
              <div id="A-column" class="gen-column">
                <h2 class="column-header">A</h2>
                <div class="output-box-group-wrapper">
                  <div class="rendered-box-wrapper">
                    <div class="math-output-wrapper">
                      <div
                        class="output-box rendered-box"
                        id="rendered-A"
                      ></div>
                    </div>
                  </div>
                  <div class="un-rendered-box-wrapper">
                    <div class="output-box latex-box" id="un-rendered-A"></div>
                  </div>
                </div>
              </div>
            </div>
            <button id="generate-button">
              Generate&thinsp;<span id="regen-circle">&#x21bb;</span>
            </button>
          </div>
          <div id="settings-container-wrapper">
            <div id="settings-presets-tab">
              <input type="checkbox" id="settings-preset-checkbox" />
              <span id="settings-preset-label"></span>
              <button
                class="settings-info-button"
                id="presets-menu-toggle-btn"
                data-tooltip="Change"
              >
                <div id="presets-menu-triangle"></div>
              </button>
              <div id="preset-list-wrapper"></div>
            </div>
            <div id="settings-container">
              <form id="settings-form" autocomplete="off"></form>
            </div>
          </div>
          <button
            id="present-ui-button"
            data-tooltip="Present"
            class="tooltip-base tooltip-left"
          >
            <img src="images/present.png" alt="present" id="present-image" />
          </button>
        </div>
      </div>
    </div>
    <div id="info-page" class="">
      <div class="info-topbar">
        <button id="info-exit-button" class="info-exit-button">Exit</button>
        <h1 class="info-page-title">NumberQ Technical Information</h1>
        <span></span>
      </div>
      <article class="nq-info-article">
        <h2 class="section-head">Overview:</h2>
        <p class="section-desc">
          This page discusses the technical information about how NumberQ works.
          The following will mainly focus on the important math concepts
          underlying the generators and the techniques used to implement those
          math concepts. This information is not needed to use the site, but is
          provided for anyone who may be interested.
        </p>
        <h2 class="section-head">Contents:</h2>
        <ul class="main-contents-list">
          <li>Problem Generation</li>
          <ul class="sub-contents-list">
            <li>Generators For Constraints</li>
            <li>Templates And Random Search</li>
            <li>Unrestricted Generation</li>
          </ul>
          <li>Answer Verification</li>
          <ul class="sub-contents-list">
            <li>Separating Verification from Generation</li>
            <li>The Sympy Python Library</li>
            <li>Overview of Verification Methods</li>
          </ul>
          <li>Rendering And Drawing</li>
          <ul class="sub-contents-list">
            <li>MathJax</li>
            <li>HTML Canvas</li>
          </ul>
        </ul>
        <h2 class="section-head">Problem Generation:</h2>
        <p class="section-desc">
          NumberQ's math problem generation is aimed at solving common
          shortcommings invovled with creating random math questions. One issue
          with math problem generators is that they often produce problems of a
          very predictable structure. A linear equation generator, for instance,
          could simply use a form like \(ax+b=cx+d\), substitute random values
          for the coefficients, and calculate the solution
          \(x=\frac{d-b}{a-c}\). The problem with this approach is that it
          undermines student's learning. Instead of learning the general method
          for solving linear equations, students memorize an arbitrary set of
          steps because there is no variation in structure.
          <br /><br />
          Another issue faced by math problem generators is the difficultly of
          creating "clean" problems. For example, suppose random values were
          subtituted for the coefficients in \(\frac{x}{a}+b=c\). This may
          result in relatively unpredictable problems, but an issue arises with
          the chosen values of the coefficients: they may result in numbers that
          are difficult to work with. Randomly substituting coefficients could
          result in \(\frac{x}{7}-13=10\), which requires \((7\cdot 23)\) to be
          calculated in order to solve. This may not entirely undermine the
          learning process if a calculator were involved, but if the equation
          were just changed to \(\frac{x}{7}+13=10\), it would clearly be a much
          cleaner problem.
          <br /><br />
          A third issue that a math problem generator needs to overcome is the
          ability to enforce particular mathematical properties. As an example,
          a naive approach to an "order of operations" question generator would
          be to select a few random numbers and separate them by random
          operators: \(N_{1}\circ N_{2} \circ N_{3}\). However, this could yield
          \(2-5+7\), which is useless if students haven't yet been introduced to
          negative numbers. On the other hand, if students are currently
          learning how to work with negative numbers, this may be exactly the
          type of problem the teacher wants. The generator would be much more
          useful if it allowed teachers to select for properties like this.
          <br /><br />
          This is just a brief summary of challenges for math problem
          generation. NumberQ does not completely resolve these issues, but it
          was created to help address them. The following will explain some
          of the mathematical and programming techniques used for this. The
          problem generators are coded in JavaScript and do <i>not</i> make use
          of any form of AI or Large Language Model. At the time of writing,
          LLMs do not seem to be the optimal solution to math problem creation.
          They are too predictable, difficult to prompt for specific
          mathematical properties, and often produce incorrect answers.
        </p>
        <h3 class="sub-section-head">Generators For Constraints</h3>
        <p class="section-desc">
          This is a method for addressing the issue of "clean numbers" in
          randomly generated math problems. Take for instance the following
          equation and its solution:
          <span class="block-math">\(ax+b=c;~~x=\frac{c-b}{a}\)</span>
          Some specific substitutions for the coefficients may be \(9x-3=6\),
          \(3x+5=11\), \(6x+7=2\), and \(8x+2=4\) with solutions of \(1, 2,
          -\frac{5}{6},\) and \(\frac{1}{4}\) respectively. The first two equations 
          are preferrable because they have simple integer solutions. 
          More specifically, they have the property that \(c-b=ka\) where \(k\) is 
          an integer. Solving \(c-b=ka\) for \(a\) yields \(a=\frac{c-b}{k}\). 
          If the equation must have integer coefficients, then \(k\) must also be 
          an integer multiple of \(c-b\), yielding \(c-b=jk\) (so \(a=j\)). Isolating \(c\) gives 
          \(c=b+jk\), and since \(b\) must be some integer (pick \(i\)), \(c=i+jk\).
          Substituing these values for \(a, b,\) and \(c\) back into the original
          equation yields the following:
          <span class="block-math">\(ax+b=c \rightarrow [j]x+[i]=[i+jk]\)</span>
          This adjusted equaton (where each expression in brackets [] represets a single coefficient)
          now has two properties: it has both integer coefficients and integer solutions for all 
          values of \(i, j, k;~~j\neq 0\). This kind of "transformation" is particulary useful for
          programming a linear equation generator. Rather than having to randomly substitute values 
          of \(a, b,\) and \(c\), the program can pick <i>any</i> values for \(i, j, k;~~j\neq 0\), and meet 
          its constraints. Furthermore, the solution to the transformed equation is always \(x=k\), so there
          is no need to calculate or verify the solution (it is known when the equation is generated).
          <br /><br />
          Note that this specific reordering of coefficients is not the only one that transforms the equation
          to have the desired properties. Isolating \(a, b,\) and \(c\) in a different order could have also 
          yieled slightly different forms. All of the following transform the equation in this manner:
          <span class="block-math">
            \(\begin{array}{c}
              ax+b=c & \rightarrow & [j]x+[i]=[i+jk] \\
              ax+b=c & \rightarrow & [j]x+[i-jk]=[i] \\
              ax+b=c & \rightarrow & [i+j]k+[-ik]=[jk]
            \end{array}\)
          </span>
          This type of transformation essentially creates a "generator" to meet specific constraints, and it generalizes
          to other scenarios where the goal is to create algebriac math questions programmatically without
          running a random search algorithm (which is much more computationally expensive).
          <br /><br />
          Consider another linear equation form and one of its respective transformations 
          to force integer solutions and coefficients:
          <span class="block-math">
            \(\begin{array}{l}
              ax+b=cx+d;~~x=\frac{d-b}{c-a} \\
              x\Rightarrow k=\frac{d-b}{c-a}~~~\scriptstyle{\mathbf{(1)}} \\
              a\Rightarrow l=\frac{b-d+kc}{k}~~~\scriptstyle{\mathbf{(2)}} \\
              c\Rightarrow m=\frac{-b+d+kl}{k}~~~\scriptstyle{\mathbf{(3)}} \\
              b\Rightarrow n=d+kl-km~~~\scriptstyle{\mathbf{(4)}} \\
              d=n-kl+km
            \end{array}\)
          </span>
          <span class="block-math">\( \Downarrow \)</span>
          <span class="block-math">\( [l]x+[n]=[m]x+[n-kl+km]\)</span>
          In each of steps (1)&ndash;(4), a new integer was introduced to meet a constraint. Step (1) introduced \(k\) to represent
          an integer solution. Then, in steps (2)&ndash;(4), \(l, m,\) and \(n\) were introduced to ensure that all of the 
          coefficients remain integers. The result is an equation in the same form as \(ax+b=cx+d\), but where all possible integer values
          for \(k, l, m, n;~~l \neq m\) yield the integer solution \(x=k\).
          <br /><br />
          There are some important characteristics to note about the process above. First, the equation had 4 coefficients, and it 
          required 4 substitutions to transform. Second, a different order could have been taken to isolate the coefficients,
          and this would have yielded a different transformed form with the same properties. Additionally, just as the \(ax+b=c\) equation
          from above, one remapped coefficient seems to "absorb" the values of the others:
          <span class="block-math">
            \(\begin{array}{c}
              ax+b=c \\
              \Downarrow \\
              [j]x+[i]=[i+jk] \\ \\
              \hline \\
              ax+b=cx+d \\
              \Downarrow \\
              [l]x+[n]=[m]x+[n-kl+km]
            \end{array}\)
          </span>
          The tendency for the value of one transformed coefficient to absorb the values of the others is the general characteristic of 
          this transformation process. A the most basic level, the process is negating every operation that can lead to non-integer solutions
          in an algebra problem. In \(ax=b\) for example, the transformation is simply \([j]x=[jk]\), and the motivation for this adjustment clear without
          any computation. Furthermore, this general method of "negation" can also be used to meet other constraints besides "integer solutions."
          For example, it might be desired that the subtraction \( a-b \) has a non-negative result, and the corresponding transformation
          is \( [k+l]-[l] \). These two examples are a good representation of the "generators for constraints" method in general:
          <span class="block-math">
            \(\begin{array}{c}
              \frac{a}{b} \rightarrow \frac{[lk]}{[l]} \\
              a-b \rightarrow [k+l]-[l]
            \end{array}\)
          </span>
          The last important note about this method is that it can be applied to other topics besides linear equations and expressions.
          The pythagorean theorem \(a^2+b^2=c^2\), for example, is another common case where integer solutions are desirable but unlikely.
          However, unlike linear equations, the process to transform the pythagorean is better framed geometrically. 
        </p>
      </article>
    </div>
    <script type="module" src="scripts/main.js"></script>
  </body>
</html>
